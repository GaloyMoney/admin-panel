{"version":3,"sources":["utils/index.js","components/Header.js","components/Login.js","components/Dashboard.js","components/UserDetails.js","components/AddToMap.js","App.js","reportWebVitals.js","index.js"],"names":["validatePhone","phone","length","validateOtp","otp","validateUsername","username","validateAddToMapInputs","title","latitude","longitude","isFinite","Math","abs","logout","sessionStorage","clear","window","location","href","Header","Navbar","bg","variant","Container","Brand","Image","src","rounded","Nav","className","Link","Button","onClick","GENERATE_OTP","gql","LOGIN","Login","useState","setPhone","otpGenerated","setOtpGenerated","setOtp","useMutation","onCompleted","requestPhoneCode","success","onError","error","console","alert","message","generateOTP","otpGenerating","loading","token","login","setItem","setAuthenticated","navigate","Form","onSubmit","event","preventDefault","variables","Group","size","Control","autoFocus","type","placeholder","value","onChange","e","target","block","disabled","parseInt","Dashboard","fluid","style","marginTop","Row","Col","md","GET_UID","GET_USER","SET_ACCOUNT_STATUS","GET_LEVELS","SET_LEVEL","UserDetails","getItem","uid","setUid","levels","setLevels","setUsername","userDetails","setUserDetails","useLazyQuery","context","headers","Authorization","getUid","getUser","getUserDetails","getLevels","gettingUser","setLevel","level","setAccountStatus","inline","Table","bordered","hover","striped","margin","coordinate","Date","created_at","toString","targetLevel","indexOf","status","targetStatus","confirm","ADD_TO_MAP","AddToMap","setTitle","setLatitude","setLongitude","resetValues","addToMap","forEach","state","parseFloat","routes","dashboardRoutes","AuthedPages","routeResult","useRoutes","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","client","ApolloClient","uri","env","GRAPHQL_URI","cache","InMemoryCache","ReactDOM","render","ApolloProvider","document","getElementById"],"mappings":"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","file":"static/js/main.37477f5f.chunk.js","sourcesContent":["export function validatePhone(phone) {\n  return phone.length > 10 && phone.length <= 15\n}\n\nexport function validateOtp(otp) {\n  return otp.length === 6\n}\n\nexport function validateUsername(username) {\n  return username.length >= 3\n}\n\nexport function validateAddToMapInputs(username, title, latitude, longitude) {\n  //coordinate validation\n  if (!isFinite(latitude) || !(Math.abs(latitude) <= 90)) {\n    return false\n  }\n\n  if (!isFinite(longitude) || !(Math.abs(longitude) <= 180)) {\n    return false\n  }\n\n  if (!validateUsername(username)) {\n    return false\n  }\n\n  return title.length >= 3\n}\n\nexport const logout = () => {\n  sessionStorage.clear()\n  window.location.href = '/'\n}\n\nexport const isAuthenticated = () => {\n  return !!sessionStorage.getItem('token')\n}\n","import React from 'react'\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport Container from 'react-bootstrap/Container'\nimport Image from 'react-bootstrap/Image'\nimport Button from 'react-bootstrap/Button'\nimport { logout } from '../utils'\n\nfunction Header() {\n  return (\n    <Navbar bg=\"dark\" variant=\"dark\">\n      <Container>\n        <Navbar.Brand href=\"https://bitcoinbeach.com\">\n          <Image src={process.env.PUBLIC_URL + '/BBLogo.png'} rounded />\n        </Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <Nav.Link href=\"/dashboard\">Home</Nav.Link>\n        </Nav>\n        <Nav>\n          <Button onClick={logout} variant=\"dark\">\n            Logout\n          </Button>\n        </Nav>\n      </Container>\n    </Navbar>\n  )\n}\n\nexport default Header\n","import { gql, useMutation } from '@apollo/client'\nimport { navigate } from 'hookrouter'\nimport React, { useState } from 'react'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\nimport { validateOtp, validatePhone } from '../utils'\nimport Header from './Header'\nimport './Login.css'\n\nconst GENERATE_OTP = gql`\n  mutation requestPhoneCode($phone: String!) {\n    requestPhoneCode(phone: $phone) {\n      success\n    }\n  }\n`\n\nconst LOGIN = gql`\n  mutation login($phone: String!, $otp: Int!) {\n    login(phone: $phone, code: $otp) {\n      token\n    }\n  }\n`\n\nexport default function Login() {\n  const [phone, setPhone] = useState('')\n  const [otpGenerated, setOtpGenerated] = useState(false)\n  const [otp, setOtp] = useState('')\n\n  function setAuthenticated(token) {\n    sessionStorage.setItem('token', token)\n  }\n\n  const [generateOTP, { loading: otpGenerating }] = useMutation(GENERATE_OTP, {\n    onCompleted({ requestPhoneCode: { success } }) {\n      setOtpGenerated(true)\n    },\n    onError(error) {\n      console.error(error)\n      alert(error.message)\n    }\n  })\n\n  function submitPhone(event) {\n    event.preventDefault()\n    generateOTP({ variables: { phone } })\n  }\n\n  const [login] = useMutation(LOGIN, {\n    onCompleted({ login: { token } }) {\n      if(!token) {\n        alert('Incorrect OTP')\n      }\n      setAuthenticated(token)\n      navigate('/dashboard', true)\n    },\n    onError(error) {\n      console.error(error.message)\n    }\n  })\n\n  function submitOtp(event) {\n    event.preventDefault()\n    login({ variables: { phone, otp: parseInt(otp) } })\n  }\n\n  return (\n    <div>\n      <Header />\n      <div className=\"Login\">\n        {!otpGenerated && (\n          <Form onSubmit={submitPhone}>\n            <Form.Group size=\"lg\">\n              <Form.Control\n                autoFocus\n                type=\"tel\"\n                placeholder=\"Enter phone number\"\n                value={phone}\n                onChange={e => setPhone(e.target.value)}\n              />\n            </Form.Group>\n            <Button block size=\"lg\" type=\"submit\" disabled={!validatePhone(phone)}>\n              Login\n            </Button>\n          </Form>\n        )}\n        {otpGenerating && <p>Loading...</p>}\n        {otpGenerated && (\n          <Form onSubmit={submitOtp}>\n            <Form.Group size=\"lg\">\n              <Form.Control\n                autoFocus\n                type=\"number\"\n                placeholder=\"Enter OTP\"\n                value={otp}\n                onChange={e => setOtp(e.target.value)}\n              />\n            </Form.Group>\n            <Button block size=\"lg\" type=\"submit\" disabled={!validateOtp(otp)}>\n              Submit\n            </Button>\n          </Form>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Header from \"./Header\";\n\nexport default function Dashboard() {\n  return (\n    <div>\n      <Header />\n      <Container fluid style={{ marginTop: \"50px\" }}>\n        <Row className=\"justify-content-md-center\">\n          <Col md=\"auto\">\n            <Button size=\"lg\" href=\"/dashboard/userDetails\">\n              User Details\n            </Button>\n          </Col>\n          <Col md=\"auto\">\n            <Button size=\"lg\" href=\"/dashboard/addToMap\">\n              Add Business To Map\n            </Button>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n","import { gql, useLazyQuery, useMutation } from '@apollo/client'\nimport { useState } from 'react'\nimport { Container, Form } from 'react-bootstrap'\nimport Button from 'react-bootstrap/Button'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport Table from 'react-bootstrap/Table'\nimport { validatePhone, validateUsername } from '../utils'\nimport Header from './Header'\n\nconst GET_UID = gql`\n  query getUid($phone: String, $username: String) {\n    getUid(phone: $phone, username: $username)\n  }\n`\n\nconst GET_USER = gql`\n  query getUserDetails($uid: ID!) {\n    getUserDetails(uid: $uid) {\n      id\n      phone\n      username\n      created_at\n      level\n      coordinate {\n        latitude\n        longitude\n      }\n      title\n      created_at\n      status\n    }\n  }\n`\n\nconst SET_ACCOUNT_STATUS = gql`\n  mutation setAccountStatus($uid: ID!, $status: AccountStatus!) {\n    setAccountStatus(uid: $uid, status: $status) {\n        status\n        id\n        __typename\n    }\n  }\n`\n\nconst GET_LEVELS = gql`\n  query getLevels {\n    getLevels\n  }\n`\n\nconst SET_LEVEL = gql`\n  mutation setlevel($uid: ID!, $level: Int!) {\n    setLevel(uid: $uid, level: $level) {\n      id,\n      level\n    }\n  }\n`\n\nfunction UserDetails() {\n  const token = sessionStorage.getItem('token')\n  const [phone, setPhone] = useState('')\n  const [uid, setUid] = useState('')\n  const [levels, setLevels] = useState(null)\n  const [username, setUsername] = useState('')\n  const [userDetails, setUserDetails] = useState('')\n\n  const [getUid, {loading: gettingUid}] = useLazyQuery(GET_UID, {\n    context: {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    },\n    onCompleted({getUid: uid}) {\n      setUid(uid)\n      getUser({variables: {uid}})\n    }\n  })\n\n  const [getUser, { loading: gettingUser }] = useLazyQuery(GET_USER, {\n    context: {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    },\n    onCompleted({ getUserDetails }) {\n      setUserDetails(getUserDetails)\n      getLevels()\n    },\n    onError(error) {\n      alert(error.message)\n      setUsername('')\n      setPhone('')\n    }\n  })\n\n  const [getLevels] = useLazyQuery(GET_LEVELS, {\n    context: {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    },\n    onCompleted({getLevels: levels}) {\n      setLevels(levels)\n    }\n  })\n\n  const [setLevel] = useMutation(SET_LEVEL, {\n    context: {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    },\n    onCompleted({ setLevel }) {\n      setUserDetails({...userDetails, level: setLevel.level})\n      alert(`${userDetails.username}'s account level has been changed successfully`)\n    },\n    onError(error) {\n      console.error(error)\n      alert(error.message)\n    }\n  })\n\n  const [setAccountStatus] = useMutation(SET_ACCOUNT_STATUS, {\n    context: {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    },\n    onCompleted({ setAccountStatus }) {\n      alert(`${userDetails.username}'s account status has been changed successfully`)\n    },\n    onError(error) {\n      console.error(error)\n      alert(error.message)\n    }\n  })\n\n  function submitPhone(event) {\n    event.preventDefault()\n    getUid({ variables: { phone } })\n  }\n\n  function submitUsername(event) {\n    event.preventDefault()\n    getUid({ variables: { username } })\n  }\n\n  function changeAccountStatus() {\n    const targetStatus = userDetails.status === \"active\" ? \"locked\" : \"active\"\n    const confirmation = window.confirm(`Clicking OK will change ${userDetails.phone}'s status to ${targetStatus}. Do you wish to proceed?`)\n    if (confirmation) {\n      setAccountStatus({ variables: { uid, status: targetStatus } })\n    }\n  }\n\n  function changeLevel() {\n    const targetLevel = levels?.[levels.indexOf(userDetails.level) + 1]\n    setLevel({variables: {uid, level: targetLevel}})\n  }\n\n  return (\n    <div>\n      <Header />\n      <Container fluid>\n        <br />\n        <Row className=\"justify-content-md-center\">\n          <Col md=\"auto\">\n            <Form inline onSubmit={submitPhone}>\n              <Form.Group>\n                <Form.Control\n                  type=\"tel\"\n                  placeholder=\"Enter user's phone number\"\n                  value={phone}\n                  onChange={e => setPhone(e.target.value)}\n                />\n                <Button type=\"submit\" disabled={!validatePhone(phone)}>\n                  Submit\n                </Button>\n              </Form.Group>\n            </Form>\n          </Col>\n          <Col md=\"auto\">\n            <Form inline onSubmit={submitUsername}>\n              <Form.Group>\n                <Form.Control\n                  placeholder=\"Enter user's username\"\n                  value={username}\n                  onChange={e => setUsername(e.target.value)}\n                />\n                <Button type=\"submit\" disabled={!validateUsername(username)}>\n                  Submit\n                </Button>\n              </Form.Group>\n            </Form>\n          </Col>\n        </Row>\n        <Row>\n          {gettingUser && <Col md=\"auto\">Getting user details...</Col>}\n          {userDetails && (\n            <Table bordered hover striped style={{ margin: '15px' }}>\n              <thead>\n                <tr>\n                  <th>Phone</th>\n                  <th>Username</th>\n                  <th>Title</th>\n                  <th>Latitude</th>\n                  <th>Longtitude</th>\n                  <th>Created At</th>\n                  <th>Level</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td>{userDetails.phone}</td>\n                  <td>{userDetails.username}</td>\n                  <td>{userDetails.title}</td>\n                  <td>{userDetails.coordinate ? userDetails.coordinate.latitude : \"\"}</td>\n                  <td>{userDetails.coordinate ? userDetails.coordinate.longitude : \"\"}</td>\n                  <td>{new Date(parseInt(userDetails.created_at)).toString()}</td>\n                  <td>{userDetails.level} <Button variant=\"outline-danger\" disabled={userDetails.level === levels?.[levels.length - 1]} size=\"sm\" onClick={changeLevel}>Upgrade</Button> </td>\n                  <td>{userDetails.status} <Button variant=\"outline-danger\" size='sm' onClick={changeAccountStatus}>Change</Button> </td>\n                </tr>\n              </tbody>\n            </Table>\n          )}\n        </Row>\n      </Container>\n    </div>\n  )\n}\n\nexport default UserDetails\n","import { gql, useMutation } from '@apollo/client'\nimport { useState } from 'react'\nimport { Container, Form } from 'react-bootstrap'\nimport Button from 'react-bootstrap/Button'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport { validateAddToMapInputs } from '../utils'\nimport Header from './Header'\n\nconst ADD_TO_MAP = gql`\n  mutation addToMap($username: String!, $title: String!, $latitude: Float!, $longitude: Float!) {\n    addToMap(username: $username, title: $title, latitude: $latitude, longitude: $longitude)\n  }\n`\n\nfunction AddToMap() {\n  const token = sessionStorage.getItem('token')\n  const [title, setTitle] = useState('')\n  const [username, setUsername] = useState('')\n  const [latitude, setLatitude] = useState('')\n  const [longitude, setLongitude] = useState('')\n\n  const [addToMap, { loading: addingToMap }] = useMutation(ADD_TO_MAP, {\n    context: {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    },\n    onCompleted() {\n      alert('Added successfully!')\n      resetValues()\n    },\n    onError(error) {\n      alert(error.message)\n    }\n  })\n\n  const resetValues = () => {\n    const states = [setLatitude, setLongitude, setUsername, setTitle]\n    states.forEach(state => state(''))\n  }\n\n  const submit = event => {\n    event.preventDefault()\n\n    addToMap({\n      variables: {\n        username,\n        title,\n        latitude: parseFloat(latitude),\n        longitude: parseFloat(longitude)\n      }\n    })\n  }\n\n  return (\n    <div>\n      <Header />\n      <Container fluid>\n        <br />\n        <Row className=\"justify-content-md-center\">\n          <Col md=\"auto\">\n            <Form onSubmit={submit}>\n              <Form.Group>\n                <Form.Control\n                  placeholder=\"Enter username\"\n                  value={username}\n                  onChange={e => setUsername(e.target.value)}\n                />\n                <Form.Control placeholder=\"Enter title\" value={title} onChange={e => setTitle(e.target.value)} />\n                <Form.Control\n                  placeholder=\"Enter latitude\"\n                  value={latitude}\n                  onChange={e => setLatitude(e.target.value)}\n                />\n                <Form.Control\n                  placeholder=\"Enter longitude\"\n                  value={longitude}\n                  onChange={e => setLongitude(e.target.value)}\n                />\n                <Button type=\"submit\" disabled={!validateAddToMapInputs(username, title, latitude, longitude)}>\n                  Submit\n                </Button>\n              </Form.Group>\n            </Form>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  )\n}\n\nexport default AddToMap\n","import Login from './components/Login'\nimport { useRoutes, navigate } from 'hookrouter'\nimport Dashboard from './components/Dashboard'\nimport UserDetails from './components/UserDetails'\nimport AddToMap from './components/AddToMap'\nimport { isAuthenticated } from './utils'\n\nconst routes = {\n  '/': () => <Login />,\n  '/dashboard*': () => <AuthedPages />\n}\n\nconst dashboardRoutes = {\n  '/': () => <Dashboard />,\n  '/userDetails': () => <UserDetails />,\n  '/addToMap': () => <AddToMap />\n}\n\nconst AuthedPages = () => {\n  const routeResult = useRoutes(dashboardRoutes)\n  if (!isAuthenticated()) {\n    navigate('/')\n  }\n  return routeResult\n}\n\nfunction App() {\n  const routeResult = useRoutes(routes)\n\n  return routeResult || <Login />\n}\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { ApolloProvider, ApolloClient, InMemoryCache } from '@apollo/client';\n\nconst client = new ApolloClient({\n  uri: window.env.GRAPHQL_URI,\n  cache: new InMemoryCache()\n});\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}